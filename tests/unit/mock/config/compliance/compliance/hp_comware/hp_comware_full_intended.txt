#
sysname NTC-Router
#
clock timezone EST minus 05:00:00
clock summer-time EDT 02:00:00 03/11 02:00:00 11/04 01:00:00
clock protocol ntp
#
copyright-info enable
#
telnet server enable
telnet server acl 1111
#
irf domain 123456
irf mac-address persistent timer
irf auto-update enable
undo irf link-delay
irf member 1 priority 48
irf member 3 priority 16
irf mode normal
#
igmp-snooping
#
dns source-interface M-GigabitEthernet0/0/0 vpn-instance internal
dns domain example.com
dns domain example.com vpn-instance internal
dns server 192.0.2.47 vpn-instance internal
dns server 192.0.2.15 vpn-instance internal
dns server 192.0.2.11 vpn-instance internal
dns server 192.0.2.2 vpn-instance internal
dns server 192.0.2.6 vpn-instance internal
#
lldp global enable
#
password-recovery enable
#
vlan 1
vlan 101
 name Test-Vlan-101
 description Test Vlan 101
#
irf-port 1/1
 port group interface FortyGigE1/0/49
 port group interface FortyGigE1/0/50
irf-port 2/2
 port group interface FortyGigE2/0/49
 port group interface FortyGigE2/0/50
#
qos map-table dot1p-lp
 import 0 export 0
 import 1 export 1
 import 2 export 2
#
traffic classifier NTC-Classifier operator or
 if-match dscp ntc
 if-match acl 4000
#
traffic behavior NTC-Behavior
 remark dscp ntc
traffic behavior foo
#
qos policy NTC-Policy
 classifier NTC-Classifier behavior NTC-Behavior
#
stp region-configuration
 region-name NTC-Region
 revision-level 100
 instance 1 vlan 1 to 4094
 active region-configuration
#
stp instance 0 to 1 priority 16384
stp vlan 1 to 4094 priority 16384
stp mode pvst
stp bpdu-protection
stp global enable
#
l2vpn enable
#
bgp 65003
 router-id 192.0.2.31
 timer keepalive 5 hold 15
 ip vpn-instance vpn2
  peer 192.0.2.61 as-number 65007
  peer 192.0.2.61 connect-interface LoopBack1
  peer 192.0.2.61 ebgp-max-hop 4
  peer 192.0.2.61 password cipher <REDACTED>
  peer 192.0.2.62 as-number 65007
  peer 192.0.2.62 connect-interface LoopBack1
  peer 192.0.2.62 ebgp-max-hop 4
  address-family ipv4 unicast
   network 192.0.2.31 255.255.255.255
   network 192.0.2.64 255.255.255.240
   peer 192.0.2.61 enable
   peer 192.0.2.61 next-hop-local
   peer 192.0.2.62 enable
   peer 192.0.2.62 next-hop-local
#
line class aux
 user-role network-admin
line class vty
 user-role network-operator
line aux 0 1
 authentication-mode scheme
 user-role level-0
 idle-timeout 15 0
 command authorization
line vty 0 4
 authentication-mode scheme
 user-role level-15
 user-role network-operator
 protocol inbound ssh
 idle-timeout 60 0
 command authorization
#
ip route-static vpn-instance vpn1 0.0.0.0 0 192.0.2.1
ip route-static vpn-instance vpn2 192.0.2.61 32 192.0.2.68 description Test-Peer-2
ip route-static vpn-instance vpn2 192.0.2.62 32 192.0.2.68 description Test-Peer-2
#
info-center timestamp loghost no-year-date
info-center logfile enable
info-center loghost source M-GigabitEthernet0/0/0
info-center loghost vpn-instance internal 192.0.2.195
#
snmp-agent
snmp-agent local-engineid 123456789012345678901234567890
snmp-agent community read Test-Community acl 1234
snmp-agent sys-info contact Test-Contact
snmp-agent sys-info location Test-Location
snmp-agent sys-info version v2c v3
snmp-agent trap source M-GigabitEthernet0/0/0
#
ssh server enable
ssh server acl 1234
#
ftp client source interface M-GigabitEthernet0/0/0
#
ssh client source interface M-GigabitEthernet0/0/0
sftp client source interface M-GigabitEthernet0/0/0
#
qos vlan-policy NTC-VLAN-Policy-101 vlan 101 inbound 
qos vlan-policy NTC-VLAN-Policy-102 vlan 102 inbound 
#
ntp-service enable
ntp-service source M-GigabitEthernet0/0/0
ntp-service unicast-server 192.0.2.22 vpn-instance internal
ntp-service unicast-peer 192.0.2.10 vpn-instance internal
ntp-service unicast-server ntp.example.com vpn-instance internal
ntp-service unicast-server 192.0.2.27 vpn-instance internal
ntp-service unicast-server 192.0.2.70 vpn-instance internal
ntp-service unicast-server 192.0.2.251 vpn-instance internal
ntp-service unicast-server 192.0.2.182 vpn-instance internal
#
acl number 1234 name NTC-ACL
 rule 0 permit icmp destination 0.0.0.0 255.255.255.0
 rule 1 permit tcp destination 0.0.0.0 255.255.255.0 destination-port range 1000 2000
 rule 1 comment hello world
#
tftp client source interface M-GigabitEthernet0/0/0
#
header motd % 
*******************************************************************************
Unauthorized Access to or Use of this System is STRICTLY PROHIBITED.
     ALL Access and Use May be Monitored and Recorded.
*******************************************************************************
%
#
hwtacacs scheme NTC-HWTACACS-Scheme
 primary authentication 192.0.2.112
 primary authorization 192.0.2.112
 primary accounting 192.0.2.112
 secondary authentication 192.0.2.11
 secondary authorization 192.0.2.11
 secondary accounting 192.0.2.11
 key authentication cipher <REDACTED>
 key authorization cipher <REDACTED>
 key accounting cipher <REDACTED>
 user-name-format without-domain
 vpn-instance internal
#
radius scheme system
 user-name-format without-domain
#
domain example.com
 authentication default hwtacacs-scheme NTC-HWTACACS-Scheme local
 authorization default hwtacacs-scheme NTC-HWTACACS-Scheme local
 accounting default hwtacacs-scheme NTC-HWTACACS-Scheme
domain system
domain default enable example.com
#
role name level-0
 description NTC-Level-0 role
role name level-1
 description NTC-Level-1 role
#
user-group system
#
local-user NTC-Admin class manage
 password hash <REDACTED>
 service-type ssh telnet terminal
 authorization-attribute user-role level-15
 authorization-attribute user-role network-admin
 authorization-attribute user-role network-operator
local-user NTC-User class manage
 password hash <REDACTED>
 service-type ssh telnet
 authorization-attribute user-role level-15
 authorization-attribute user-role network-admin
 authorization-attribute user-role network-operator
#